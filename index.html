<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>idkyet</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
:root{
  --bg:#0b0c0f;
  --panel:#0f1116;
  --muted:#8b94a7;
  --text:#e8ecf1;
  --accent:#7aa2ff;
  --border:#1b1f2a;
  --radius:10px;
  --gap:16px;
  --shadow:0 1px 0 rgba(255,255,255,0.03) inset, 0 8px 30px rgba(0,0,0,0.35);
  --footer-h:64px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font:15px/1.5 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial;color:var(--text);background:radial-gradient(1200px 800px at 100% -20%, #0d1224 0%, transparent 60%),var(--bg);letter-spacing:.2px}
.hidden{display:none !important}
header{position:sticky;top:0;z-index:60;backdrop-filter:saturate(140%) blur(8px);background:linear-gradient(to bottom, rgba(9,11,16,.9), rgba(9,11,16,.6));border-bottom:1px solid var(--border)}
.header-inner{max-width:1200px;margin:0 auto;padding:12px 16px;display:flex;gap:16px;align-items:center}
.brand-img{width:40px;height:40px;flex:0 0 40px;display:inline-block}
.search-wrap{flex:1;position:relative}
.search{display:flex;align-items:center;gap:10px;background:linear-gradient(180deg,#0c0f16,#0b0d13);border:1px solid var(--border);border-radius:12px;padding:8px 10px;box-shadow:var(--shadow)}
.search input{flex:1;background:transparent;border:0;color:var(--text);outline:none;font-size:14px}
.dropdown{position:absolute;left:0;right:0;top:calc(100% + 8px);background:linear-gradient(180deg,#0f1318,#0c1014);border:1px solid var(--border);border-radius:10px;max-height:360px;overflow:auto;display:none;z-index:70;box-shadow:0 10px 40px rgba(0,0,0,.6)}
.dropdown-item{display:flex;align-items:center;gap:10px;padding:10px;border-bottom:1px solid rgba(255,255,255,0.02);cursor:pointer}
.dropdown-item:hover{background:rgba(255,255,255,0.02)}
.dropdown-item img{width:48px;height:36px;object-fit:cover;border-radius:6px;flex:0 0 48px}
.main{padding:24px 16px;padding-bottom:calc(var(--footer-h) + 24px)}
.grid{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(12,1fr);gap:var(--gap)}
.cards{grid-column:1/-1;display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:var(--gap)}
.card{position:relative;overflow:hidden;border:1px solid var(--border);border-radius:12px;background:linear-gradient(180deg,#10141c,#0e1219);box-shadow:var(--shadow);cursor:pointer;transition:transform .18s ease,border-color .18s}
.card:hover{transform:translateY(-4px);border-color:#293247}
.thumb{aspect-ratio:16/9;display:block;background:#0e1321}
.thumb img{width:100%;height:100%;object-fit:cover;display:block}
.meta{padding:12px;display:flex;align-items:center;justify-content:space-between;gap:10px}
.tags{display:flex;gap:8px;flex-wrap:wrap}
.tag{font-size:12px;padding:5px 8px;border-radius:999px;background:#111826;color:#bcd1ff;border:1px solid #1a2234}
.overlay{position:absolute;inset:auto 0 0 0;height:48px;background:linear-gradient(180deg, transparent 0%, rgba(10,13,20,.8) 30%, rgba(10,13,20,.95) 100%);display:flex;align-items:center;padding:10px 12px;gap:10px;transform:translateY(100%);transition:transform .22s ease;border-top:1px solid var(--border);z-index:3}
.card:hover .overlay{transform:translateY(0)}
.title{font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#dfe7ff}
.detail{max-width:1500px;margin:0 auto;display:grid;grid-template-columns:minmax(0,1fr) 400px;gap:20px}
.panel{border:1px solid var(--border);border-radius:12px;background:linear-gradient(180deg,#0f131c,#0d1118);box-shadow:var(--shadow)}
.player{position:relative;aspect-ratio:19/9;border-bottom:1px solid var(--border);border-top-left-radius:12px;border-top-right-radius:12px;overflow:hidden;background:#0a0e16}
.player iframe,.player .fake{width:100%;height:100%;border:0;display:block;position:relative;z-index:5}
.bg-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transform:scale(1.06);filter:blur(14px) brightness(.45);z-index:0}
.loading-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:10}
.loading-card{width:min(720px,92%);border-radius:12px;padding:18px;backdrop-filter:blur(6px) saturate(120%);background:linear-gradient(180deg, rgba(8,10,14,0.7), rgba(8,10,14,0.9));border:0.7px solid rgba(255,255,255,0.01);display:flex;gap:16px;align-items:center;box-shadow:0 12px 40px rgba(0,0,0,.6)}
.loading-thumb{width:140px;height:78px;border-radius:10px;overflow:hidden;flex:0 0 140px}
.loading-thumb img{width:100%;height:100%;object-fit:cover;display:block}
.loading-meta{flex:1;min-width:0}
.loading-title{font-weight:800;font-size:18px;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:8px}
.progress-wrap{height:8px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden;margin-bottom:6px}
.progress{height:100%;width:0%;border-radius:999px;background:linear-gradient(90deg,var(--accent),#4f7bff);transition:width .1s linear}
.info{padding:14px 16px}
.h1{font-size:20px;font-weight:700;margin:2px 0 6px}
.icon-row{display:flex;gap:8px}
.icon-btn{display:flex;align-items:center;justify-content:center;gap:4px;height:40px;border-radius:10px;border:1px solid var(--border);background:linear-gradient(180deg,#0f1320,#0d1119);cursor:pointer;color:var(--text);font-size:13px;line-height:1;padding:0 12px}
.icon-btn:hover{border-color:#2a3246}
.material-icons{font-size:20px;line-height:1}
.desc{margin-top:14px;color:#c7d0e0}
#d-tags{color:var(--muted);font-size:13px;margin-top:6px;display:inline-block}
.sep{margin:0 1px;color:var(--muted)}
.side{display:flex;flex-direction:column;gap:12px}
.rec{display:flex;gap:10px;padding:10px;border:1px solid var(--border);border-radius:12px;background:linear-gradient(180deg,#0e1219,#0c1016);cursor:pointer;transition:transform .12s ease}
.rec:hover{border-color:#2a3246}
.rec .rthumb{width:120px;aspect-ratio:16/9;border-radius:10px;background:#0c1220}
.rec .rtitle{font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
footer{position:fixed;left:0;right:0;bottom:0;height:var(--footer-h);display:flex;align-items:center;justify-content:center;background:#06070a;color:var(--muted);z-index:80;border-top:1px solid rgba(255,255,255,0.02)}
.footer-inner{max-width:1500px;width:100%;padding:0 16px;display:flex;align-items:center;justify-content:space-between;gap:12px}
.footer-links{display:flex;gap:12px;align-items:center}
.footer-links a{color:var(--muted);text-decoration:none;font-size:14px}
@media (max-width:960px){.detail{grid-template-columns:1fr}.loading-card{flex-direction:column;align-items:flex-start}.loading-thumb{width:100%;height:160px;flex:0 0 auto}.dropdown-item img{display:none}.footer-inner{flex-direction:column;gap:6px;height:auto;padding:8px}}
</style>
</head>
<body>
<header>
  <div class="header-inner">
    <a id="logo" href="#"><img id="logoImg" class="brand-img" src="logo.gif" alt="Playgrid"></a>
    <div class="search-wrap">
      <div class="search">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.471 6.471 0 0 0 1.57-4.23 6.5 6.5 0 1 0-6.5 6.5 6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 5 1.5-1.5-5-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        <input id="q" placeholder="Search games, tags…" autocomplete="off" />
      </div>
      <div id="searchDropdown" class="dropdown" role="listbox" aria-label="Search results"></div>
    </div>
  </div>
</header>
<main class="main">
  <section id="home">
    <div class="grid">
      <div class="cards" id="cards"></div>
    </div>
  </section>
  <section id="detail" class="hidden">
    <div class="detail">
      <div class="panel">
        <div class="player" id="player"></div>
        <div class="info">
          <div class="h1" id="d-title"></div>
          <div class="btnrow" style="margin-bottom:8px">
            <div class="icon-row">
              <button id="fullscreenBtn" class="icon-btn" aria-label="Fullscreen"><span class="material-icons">fullscreen</span>Fullscreen</button>
              <button id="placeholder1" class="icon-btn" aria-label="Placeholder 1"><span class="material-icons">question_mark</span>placeholder</button>
              <button id="placeholder2" class="icon-btn" aria-label="Placeholder 2"><span class="material-icons">question_mark</span>placeholder</button>
            </div>
          </div>
          <div id="d-tags"></div>
          <div class="desc" id="d-desc"></div>
        </div>
      </div>
      <aside class="side" id="recs"></aside>
    </div>
  </section>
</main>
<footer>
  <div class="footer-inner">
    <div>© <span id="year"></span> name</div>
    <div class="footer-links">
      <a href="#">btn</a>
      <a href="#">btn</a>
      <a href="#">btn</a>
      <a href="#">btn</a>
    </div>
  </div>
</footer>
<script>
const GAMES=[
  {id:"slope",name:"Slope",status:"",tags:["Arcade","Runner","3D"],desc:"Slope is a fast-paced 3D endless runner game where you control a ball rolling down a steep, neon-colored slope. The ball speeds up as you progress, and your goal is to survive as long as possible while avoiding obstacles, sharp turns, and gaps.",thumb:"images/slope.png",url:"games/slope/index.html"},
  {id:"supermario64",name:"Super Mario 64",status:"",tags:["Platformer","Adventure","3D"],desc:"Super Mario 64 is a classic 3D platform game where Mario explores Peach’s castle and various themed worlds to collect Power Stars.",thumb:"images/supermario64.png",url:"games/supermario64/index.html"},
  {id:"monkeymart",name:"Monkey Mart",status:"",tags:["Simulation","Idle","Casual"],desc:"Monkey Mart is a casual management game where you play as a monkey running a supermarket.",thumb:"images/monkeymart.png",url:"games/monkeymart/index.html"},
  {id:"crazycattle3d",name:"Crazy Cattle 3D",status:"",tags:["Arcade","Action","3D"],desc:"Crazy Cattle 3D is an action-packed 3D game where you drive a cow to eliminate other cows and clear each level.",thumb:"images/crazycattle3d.png",url:"games/crazycattle3d/index.html"},
  {id:"penaltykick",name:"Penalty Kick",status:"",tags:["Sports","Skill","Arcade"],desc:"Penalty Kicks is a casual soccer game focused on taking and saving penalty shots. Aim carefully to score goals while trying to predict and stop the opponent’s shots.",thumb:"images/penaltykicks.png",url:"games/penaltykicks/index.html"},
  {id:"drifthunters",name:"Drift Hunters",status:"",tags:["","",""],desc:"",thumb:"images/drifthunters.png",url:"games/drifthunters/index.html"},
  {id:"cookieclicker",name:"Cookie Clicker",status:"",tags:["","",""],desc:"",thumb:"images/cookieclicker.png",url:"games/cookieclicker/index.html"},
  {id:"minecraft1.12",name:"Minecraft 1.12",status:"",tags:["","",""],desc:"",thumb:"images/minecraft1.12.png",url:"games/minecraft1.12/index.html"},
  {id:"johnnyupgrade",name:"Johnny Upgrade",status:"",tags:["","",""],desc:"",thumb:"images/johnnyupgrade.png",url:"games/johnnyupgrade/index.html"},
  {id:"3dbowling",name:"3D Bowling",status:"",tags:["","",""],desc:"",thumb:"images/3dbowling.png",url:"games/3dbowling/index.html"},
  {id:"awesometanks2",name:"Awesome Tanks 2",status:"",tags:["","",""],desc:"",thumb:"images/awesometanks2.png",url:"games/awesometanks2/index.html"},
  {id:"1v1lol",name:"1v1.LOL",status:"",tags:["Shooter","Multiplayer","Strategy"],desc:"1v1.LOL is a fast-paced online multiplayer game where players face off in one-on-one battles.",thumb:"images/1v1lol.png",url:"games/1v1lol/index.html"}
]
const $=s=>document.querySelector(s)
function setView(detail=false){
  $('#home').classList.toggle('hidden',detail)
  $('#detail').classList.toggle('hidden',!detail)
}
function route(){
  const hash=location.hash.replace(/^#\/?/,'')
  if(hash.startsWith('game/')){
    const id=hash.split('/')[1]
    renderDetail(id)
    setView(true)
  }else{
    setView(false)
    renderCards(filterText.value.trim())
  }
}
window.addEventListener('hashchange',route)
const cardsEl=$('#cards')
function renderCards(query=""){
  const q=query.toLowerCase()
  cardsEl.innerHTML=''
  const list=GAMES.filter(g=>!q||g.name.toLowerCase().includes(q)||g.tags.some(t=>t.toLowerCase().includes(q)))
  list.forEach(g=>{
    const card=document.createElement('div')
    card.className='card'
    const thumbHtml=g.thumb?`<img src="${escapeHTML(g.thumb)}" alt="${escapeHTML(g.name)}">`:`<div style="width:100%;height:100%;background:linear-gradient(90deg,#0f1724,#0b1220)"></div>`
    card.innerHTML=`
      <div class="thumb">${thumbHtml}</div>
      <div class="overlay"><div class="title">${escapeHTML(g.name)}</div></div>
      <div class="meta"><div class="tags">${g.tags.slice(0,3).map(t=>`<span class="tag">${escapeHTML(t)}</span>`).join('')}</div></div>
    `
    card.addEventListener('click',()=>location.hash=`#/game/${g.id}`)
    cardsEl.appendChild(card)
  })
}
function escapeHTML(s){return String(s).replace(/[&<>'"]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;',"'":'&#39;','"':'&quot;'}[c]))}
const filterText=$('#q')
filterText.addEventListener('keydown',e=>{
  if(e.key==='Enter') renderCards(filterText.value.trim())
})
const dropdown=$('#searchDropdown')
filterText.addEventListener('input',e=>updateDropdown())
$('#logo').addEventListener('click',e=>{
  e.preventDefault()
  location.hash=''
  renderCards('')
  setView(false)
  filterText.focus()
  filterText.select()
})
document.getElementById('year').textContent=new Date().getFullYear()
renderCards()
route()
window.setStatus=function(id,status){const g=GAMES.find(x=>x.id===id);if(!g) return;g.status=status;route()}
function updateDropdown(){
  const val=filterText.value.trim().toLowerCase()
  if(!val){dropdown.style.display='none';dropdown.innerHTML='';return}
  const matches=GAMES.filter(g=>g.name.toLowerCase().includes(val)||g.tags.some(t=>t.toLowerCase().includes(val))).slice(0,10)
  if(matches.length===0){dropdown.style.display='none';dropdown.innerHTML='';return}
  dropdown.innerHTML=matches.map(g=>`<div class="dropdown-item" data-id="${g.id}" role="option"><img src="${escapeHTML(g.thumb||'')}" alt="${escapeHTML(g.name)}"><div style="min-width:0"><div style="font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">${escapeHTML(g.name)}</div><div style="font-size:12px;color:var(--muted)">${g.tags.join(' · ')}</div></div></div>`).join('')
  dropdown.style.display='block'
}
dropdown.addEventListener('click',e=>{
  const item=e.target.closest('.dropdown-item')
  if(!item) return
  const id=item.dataset.id
  location.hash=`#/game/${id}`
  dropdown.style.display='none'
})
document.addEventListener('click',e=>{
  if(!e.composedPath().includes(filterText) && !e.composedPath().includes(dropdown)) dropdown.style.display='none'
})
function renderDetail(id){
  const g=GAMES.find(x=>x.id===id)
  if(!g){location.hash='';setView(false);return}
  const bgHtml=g.thumb?`<div class="bg-video" style="background-image:url('${escapeHTML(g.thumb)}');filter:blur(14px) brightness(.45);background-size:cover;background-position:center;position:absolute;inset:0;z-index:0"></div>`:''
  const thumbImg=g.thumb?`<img src="${escapeHTML(g.thumb)}" alt="${escapeHTML(g.name)}">`:`<div style="width:140px;height:78px;background:linear-gradient(90deg,#0f1724,#0b1220);border-radius:8px"></div>`
  $('#player').innerHTML=`
    ${bgHtml}
    <iframe id="gameFrame" src="" allow="autoplay; fullscreen" allowfullscreen style="position:relative;z-index:5;width:100%;height:100%;border:0;display:none"></iframe>
    <div class="loading-overlay" id="loadingOverlay" style="display:flex">
      <div class="loading-card" id="loadingCard">
        <div class="loading-thumb">${thumbImg}</div>
        <div class="loading-meta">
          <div class="loading-title" id="loadingTitle">${escapeHTML(g.name)}</div>
          <div class="progress-wrap"><div class="progress" id="progressBar" style="width:0%"></div></div>
          <div style="font-size:12px;color:var(--muted)">Preparing game…</div>
        </div>
      </div>
    </div>
  `
  $('#d-title').textContent=g.name
  $('#d-tags').innerHTML=g.tags.map(t=>escapeHTML(t)).join('<span class="sep"> • </span>')
  $('#d-desc').textContent=g.desc
  startLoadingAndPlay(g)
  const recs=recommend(g,6).filter(x=>x.id!==g.id)
  const recsEl=$('#recs')
  recsEl.innerHTML=''
  recs.forEach(r=>{
    const el=document.createElement('div')
    el.className='rec'
    el.innerHTML=`
      <div class="rthumb" style="background-image:url('${escapeHTML(r.thumb||'')}');background-size:cover;background-position:center;border:1px solid var(--border)"></div>
      <div class="rinfo"><div class="rtitle">${escapeHTML(r.name)}</div><div style="margin-top:6px;display:flex;gap:6px">${r.tags.slice(0,3).map(t=>`<span class="tag">${escapeHTML(t)}</span>`).join('')}</div></div>
    `
    el.addEventListener('click',()=>location.hash=`#/game/${r.id}`)
    recsEl.appendChild(el)
  })
  const ph1=$('#placeholder1')
  const ph2=$('#placeholder2')
  if(ph1) ph1.onclick=()=>{alert('Placeholder 1')}
  if(ph2) ph2.onclick=()=>{alert('Placeholder 2')}

  const fsBtn = document.getElementById('fullscreenBtn')
  if(fsBtn){
    fsBtn.onclick = async ()=>{
      const player = document.getElementById('player')
      try{
        if(!document.fullscreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement){
          if(player.requestFullscreen) await player.requestFullscreen()
          else if(player.webkitRequestFullscreen) player.webkitRequestFullscreen()
          else if(player.msRequestFullscreen) player.msRequestFullscreen()
        }else{
          if(document.exitFullscreen) await document.exitFullscreen()
          else if(document.webkitExitFullscreen) document.webkitExitFullscreen()
          else if(document.msExitFullscreen) document.msExitFullscreen()
        }
      }catch(e){}
    }
  }
}
function recommend(game,k=6){
  const set=new Set(game.tags.map(t=>t.toLowerCase()))
  return [...GAMES].map(g=>({g,score:g.tags.reduce((n,t)=>n+(set.has(t.toLowerCase())?1:0),0)})).sort((a,b)=>b.score-a.score||a.g.name.localeCompare(b.g.name)).slice(0,k+1).map(o=>o.g)
}
function startLoadingAndPlay(game){
  const overlay=$('#loadingOverlay')
  const progressEl=$('#progressBar')
  const frame=$('#gameFrame')
  if(!overlay||!progressEl||!frame) return
  overlay.style.display='flex'
  frame.style.display='none'
  progressEl.style.width='0%'
  let p=0
  const maxFake=92
  let running=true
  const startTime=Date.now()
  const stepFn=()=>{
    if(!running) return
    if(p<maxFake){
      p+=Math.max(3,Math.random()*7)
      if(p>maxFake) p=maxFake
      progressEl.style.width=p+'%'
      setTimeout(stepFn,40)
    }
  }
  stepFn()
  let finished=false
  const minimalExtra=3000
  const finishAndShow=()=>{
    if(finished) return
    finished=true
    running=false
    progressEl.style.transition='width .35s ease'
    progressEl.style.width='100%'
    setTimeout(()=>{
      overlay.style.display='none'
      if(game.url&&game.url!=='about:blank'){frame.style.display='block'}
    },350)
  }
  let loadHandled=false
  const onLoad=()=>{
    if(loadHandled) return
    loadHandled=true
    const elapsed=Date.now()-startTime
    const wait=elapsed<minimalExtra? minimalExtra-elapsed : 0
    setTimeout(finishAndShow,wait)
    frame.removeEventListener('load',onLoad)
    frame.removeEventListener('error',onError)
  }
  const onError=()=>{
    if(loadHandled) return
    loadHandled=true
    const elapsed=Date.now()-startTime
    const wait=elapsed<minimalExtra? minimalExtra-elapsed : 0
    setTimeout(finishAndShow,wait)
    frame.removeEventListener('load',onLoad)
    frame.removeEventListener('error',onError)
  }
  frame.addEventListener('load',onLoad)
  frame.addEventListener('error',onError)
  frame.setAttribute('allowfullscreen','')
  if(game.url&&game.url!=='about:blank'){
    frame.src=game.url
  }else{
    setTimeout(()=>{
      onError()
      const fake=document.createElement('div')
      fake.className='fake'
      fake.style.display='grid'
      fake.style.placeItems='center'
      fake.style.width='100%'
      fake.style.height='100%'
      fake.style.background='radial-gradient(280px 160px at 100% 0%, rgba(120,160,255,.14), transparent 60%),radial-gradient(280px 180px at 0% 0%, rgba(255,128,160,.10), transparent 60%),#0b0f19'
      fake.innerHTML=`<div style="text-align:center;opacity:.95"><div style="font-size:64px;font-weight:900;letter-spacing:2px;margin-bottom:6px">${escapeHTML(game.name.split(' ').map(w=>w[0]).join('').slice(0,3))}</div><div style="color:#a9b6d6">Embed a game URL in the data to load here</div></div>`
      const container=$('#player')
      if(container) container.appendChild(fake)
    },500)
  }
  const fallback=setTimeout(()=>{onError()},15000)
  frame.addEventListener('load',()=>clearTimeout(fallback))
  frame.addEventListener('error',()=>clearTimeout(fallback))
}
</script>
</body>
</html>
